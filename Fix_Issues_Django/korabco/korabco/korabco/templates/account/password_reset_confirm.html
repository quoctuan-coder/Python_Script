{% extends 'account/account_base.html' %}
{% load static crispy_forms_tags widget_tweaks %}

{% block head_title %}Account |{% endblock %}

{% block content %}
    {% if validlink %}
        <div class="limiter">
            <div class="container-login100">
                <div class="row">
                    <div class="col-md-12">
                        <form id="passwordResetConfirmForm" method="POST" class="login100-form validate-form">
                            {% csrf_token %}
                            <span class="login100-form-logo">
                                <img src="{% static 'korabco/images/logo.png' %}" alt="logo" style="width: 200px;">
                            </span>

                            <div class="wrap-login100">

                                <span class="login100-form-title p-b-34 p-t-27">
                                    Reset Password
                                </span>

                                {% for field in form %}
                                    <div class="wrap-input100 validate-input" data-validate = "Enter {{ field.name }}">
                                        {% if forloop.counter == 1 %}
                                            {% render_field field class="input100" placeholder='New password' %}
                                        {% else %}
                                            {% render_field field class="input100" placeholder='Confirm new password' %}
                                        {% endif %}
                                        <span class="focus-input100" data-placeholder="&#xf191;"></span>
                                    </div>
                                    {% if field.help_text %}
                                       <div class="help-text">{{ field.help_text|safe }}</div>
                                    {% endif %}
                                    {% if field.errors %}
                                        <div class="alert alert-danger">
                                            {{ field.errors }}
                                        </div>
                                    {% endif %}
                                    <br><br>
                                {% endfor %}

                                <div class="container-login100-form-btn">
                                    <button class="login100-form-btn" type="submit" name="submit">
                                        Reset Password
                                    </button>
                                </div>

                                <div class="text-center p-t-90">
                                    <a class="txt2" href="{{ SITE_URL }}">
                                        Home
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    {% else %}
        <section class="ftco-section">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-12">
                        <div class="wrapper">
                            <div id="logo-login">
                                <img src="{% static 'korabco/images/logo.png' %}" alt="logo" style="width: 60%;">
                            </div>
                            <div class="contact-wrap w-100 p-md-5 p-4">
                                <p>
                                    The password reset link was invalid, possibly because it has already been used.
                                </p>
                                <br>
                                <p>Please request a new password reset.</p>
                                <div class="text-center p-t-90">
                                    <a class="txt1" href="{{ SITE_URL }}">Home</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    {% endif %}
{% endblock content %}

{% block css %}
    <style>
        #logo-login {
            padding: 20px;
        }
        p {
            color: #fff;
            font-size: 20px;
        }
        body {
            background: #000;
        }
        .help-text ul{
            color: #0c5460;
            background-color: #d1ecf1;
            border-color: #bee5eb;
            position: relative;
            padding: 20px 40px;
            margin-bottom: 1rem;
            border: 1px solid transparent;
            border-radius: 0.25rem;
        }
        .help-text ul li{
            list-style-type: disclosure-closed;
        }
    </style>
{% endblock css %}
